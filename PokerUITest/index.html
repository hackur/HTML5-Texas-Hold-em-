<!DOCTYPE html>
<html>
    <head>
        <title>Main Room</title>
        <link rel="stylesheet" type="text/css" href="css/room.css"/>
	    <link rel="stylesheet" type="text/css" href="css/lionbars.css"/>
        <script src="js/jquery.min.js"></script>
        <script src="js/jquery-ui-1.8.18.custom.min.js"></script>
	<script src="js/jquery.lionbars.0.3.js"></script>
    </head>
    <body>
        <div id="setting">
            <span >Setting</span>
            <div class="barcontainer">
                <div>Message here</div>
                <div class="selection">
                    <div class="bar"></div>
                    <span class="button" id="bar1"></span>
                </div>
                <div id="b1" class="bet1"><span>20</span><span>/</span><span>10</span></div>
                <div class="bet2"><span>2</span><span>/</span><span>1</span></div>
            </div>
            <div class="barcontainer">
                <div>Message here</div>
                <div class="selection">
                    <div class="bar"></div>
                    <span class="button" id="bar2"></span>
                </div>
                <div id="b2" class="bet1"><span>20</span><span>/</span><span>10</span></div>
                <div class="bet2"><span>2</span><span>/</span><span>1</span></div>
            </div>
            <div class="confirm"></div>
        </div>
        <div id="container">
            <div id="header">
                <div id="backTo"></div>
                <div id="createroom"></div>
                <div id="refresh"></div>
            </div>
            <div id="grid">
                <ul>
                    <!--data template-->
                    <li class="roomitem">
                        <span class="roomid">12</span>
                        <span class="info1">300</span>
                        <span class="info2">10K</span>
                        <span class="numplaying">34</span>

                    </li>
                    <!--template end-->
                    <li class="roomitem">
                        <span class="roomid">12</span>
                        <span class="info1">300</span>
                        <span class="info2">10K</span>
                        <span class="numplaying">34</span>
                    </li>
                    <li class="roomitem">
                        <span class="roomid">12</span>
                        <span class="info1">300</span>
                        <span class="info2">10K</span>
                        <span class="numplaying">34</span>
                    </li>
                    <li class="roomitem">
                        <span class="roomid">12</span>
                        <span class="info1">300</span>
                        <span class="info2">10K</span>
                        <span class="numplaying">34</span>
                    </li>
                    <li class="roomitem">
                        <span class="roomid">12</span>
                        <span class="info1">300</span>
                        <span class="info2">10K</span>
                        <span class="numplaying">34</span>
                    </li>
                    <li class="roomitem">
                        <span class="roomid">12</span>
                        <span class="info1">300</span>
                        <span class="info2">10K</span>
                        <span class="numplaying">34</span>
                    </li>
                    <li class="roomitem">
                        <span class="roomid">12</span>
                        <span class="info1">300</span>
                        <span class="info2">10K</span>
                        <span class="numplaying">34</span>
                    </li>
                    <li class="roomitem">
                        <span class="roomid">12</span>
                        <span class="info1">300</span>
                        <span class="info2">10K</span>
                        <span class="numplaying">34</span>
                    </li>
                    <li class="roomitem">
                        <span class="roomid">12</span>
                        <span class="info1">300</span>
                        <span class="info2">10K</span>
                        <span class="numplaying">34</span>
                    </li>
		            <li class="roomitem">
                        <span class="roomid">12</span>
                        <span class="info1">300</span>
                        <span class="info2">10K</span>
                        <span class="numplaying">34</span>
                    </li>
                    <li class="roomitem">
                        <span class="roomid">12</span>
                        <span class="info1">300</span>
                        <span class="info2">10K</span>
                        <span class="numplaying">34</span>
                    </li>
                    <li class="roomitem">
                        <span class="roomid">12</span>
                        <span class="info1">300</span>
                        <span class="info2">10K</span>
                        <span class="numplaying">34</span>
                    </li>
                     <li class="roomitem">
                        <span class="roomid">12</span>
                        <span class="info1">300</span>
                        <span class="info2">10K</span>
                        <span class="numplaying">asdf</span>
                    </li>

                     

                </ul>
            </div>
            <div id="room">
                <ul>
                    <li class="normalroom">
                        <img class="roomhover" src="img/lefthover.png"/>
                        <img src="img/normalroom.png"/>
                    </li>  
                    <li class="advancedroom">
                        <img class="roomhover" src="img/middlehover.png"/>
                        <img src="img/advancedroom.png"/>
                    </li>  
                    <li class="responseroom">
                        <img class="roomhover" src="img/middlehover.png"/>
                        <img src="img/responseroom.png"/>
                    </li>  
                    <li class="competitionroom">
                        <img class="roomhover" src="img/middlehover.png"/>
                        <img src="img/competitionroom.png"/>
                    </li>  
                    <li class="familybattleroom">
                        <img class="roomhover" src="img/righthover.png"/>
                        <img src="img/familybattleroom.png"/>
                    </li>  
                </ul>
            </div>
            
        </div>
        <script>
            //use jquery UI to enable draggble
            var num=document.querySelector("#b1").children[2];
            $("#bar1").draggable({ 
                axis: 'x',
                drag:function(e,ui){
                    //console.log(e,ui)
                    if(ui.offset.left>337){
                        return false;
                       
                    }
                    else if(ui.offset.left<38){
                        
                        return false;
                    }
                    else{
                        //change the number you want
                        num.innerText=parseInt(ui.offset.left);

                    }
                }
            });
	       //self-implement of button draggble
            /*var bar2=document.querySelector("#bar2"),
                barcontainer=document.querySelectorAll(".barcontainer")[1],
                ison=false,
                current;

            bar2.style.left=window.getComputedStyle(bar2,null).left;
           
            $(barcontainer).on("mousedown",function(e){
                if(e.target.id=='bar2'){//just hard code test
                    ison=true;
                    current=e.offsetX;
                    console.log("inner")
                }
                console.log("outter")
            });
            $(barcontainer).on("mousemove",function(e){

                if(ison){

                    var _x=e.offsetX+parseInt(bar2.style.left);
                    bar2.style.left=_x-current+"px"
                }
            });
            $(barcontainer).on("mouseup",function(e){
                ison=false;
            })*/
            var num2 = document.querySelector("#b2").children[2];
            $("#bar2").draggable({ 
                axis: 'x',
                drag:function(e,ui){
                    //console.log(e,ui)
                    if(ui.offset.left>337){
                        return false;
                       
                    }
                    else if(ui.offset.left<38){
                        
                        return false;
                    }
                    else{
                        //change the number you want
                        num2.innerText=parseInt(ui.offset.left);

                    }
                }
            });



	    //init the bar,remains ugly
	    //todo:
	    /*
  		set each li with a blue background 
  	    */
	    $("#grid").lionbars();
	    $(".lb-h-scrollbar").remove();
	    
        </script>
       
    </body>
</html>
